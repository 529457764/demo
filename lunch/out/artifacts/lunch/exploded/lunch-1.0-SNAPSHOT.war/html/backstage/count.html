<div ng-include="'html/backstage/tpl/head.html'"></div>
<section class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="row margin-bottom-20">
                <div class="col-md-4"><button class="btn btn-success form-control" ng-class="type=='0'?'btn-success':'btn-default'" ng-click="search(0)">订单详情</button></div>
                <div class="col-md-4"><button class="btn btn-default form-control" ng-class="type=='1'?'btn-success':'btn-default'" ng-click="search(1)">用户详情</button></div>
                <!--<div class="col-md-4"><button class="btn btn-default form-control" ng-class="type=='2'?'btn-success':'btn-default'" ng-click="search(2)">未领取详情</button></div>-->
            </div>
            <div class="row margin-bottom-20">
                <form class="form-inline">
                    <div class="form-group col-md-5">
                        <label for="date">日期:</label>
                        <input type="date" id="date" ng-model="date" class="form-control" ng-change="search(type)">
                    </div>
                </form>
            </div>
            <!--0.订单详情-->
            <table class="table table-bordered" ng-if="(list.length > 0) && (type == '0')">
                <thead>
                    <tr>
                        <th>地点</th>
                        <th>A餐</th>
                        <th>B餐</th>
                        <th>C餐</th>
                        <th>总计</th>
                    </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in list">
                    <td>{{item.location}}</td>
                    <td>{{item.aCount}}</td>
                    <td>{{item.bCount}}</td>
                    <td>{{item.cCount}}</td>
                    <td>{{item.aCount + item.bCount + item.cCount}}</td>
                </tr>
                <tr>
                    <td>合计</td>
                    <td>{{aCountNum}}</td>
                    <td>{{bCountNum}}</td>
                    <td>{{cCountNum}}</td>
                    <td>{{aCountNum + bCountNum + cCountNum}}</td>
                </tr>
                </tbody>
            </table>
            <div ng-if="list.length <= 0">
                <p>没有找到相关数据</p>
            </div>
            <!--1.用户详情-->
            <table class="table table-bordered" ng-if="(list.length > 0) && ((type == '1') || (type == '2'))">
                <thead>
                    <tr>
                        <th>员工姓名</th>
                        <th>用餐地点</th>
                        <th>套餐类目</th>
                        <th>领取详情</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in list">
                        <td>{{item.name}}</td>
                        <td>{{item.location}}</td>
                        <td>{{item.meat}}</td>
                        <td>{{item.status | getValueByStatus}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>